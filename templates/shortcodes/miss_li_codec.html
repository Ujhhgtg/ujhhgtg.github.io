<div id="miss-li-codec-container">
  <h2>Ms. Li Codec</h2>

  <div style="margin-bottom: 15px">
    <p><strong>1. Select Dictionary Words (Base):</strong></p>
    <div id="dictionary-selection">
      <label
        ><input type="checkbox" name="dict-word" value="redo" checked />
        redo</label
      >
      <label
        ><input type="checkbox" name="dict-word" value="bonus" checked />
        bonus</label
      >
      <label
        ><input type="checkbox" name="dict-word" value="sit-down" />
        sit-down</label
      >
      <label
        ><input type="checkbox" name="dict-word" value="stand-up" />
        stand-up</label
      >
      <label
        ><input type="checkbox" name="dict-word" value="schedule" />
        schedule</label
      >
      <label
        ><input type="checkbox" name="dict-word" value="杨牧ger~" />
        杨牧ger~</label
      >
    </div>

    <div id="custom-dictionary-inputs" style="margin-top: 10px">
      <button
        onclick="addCustomWordInput()"
        style="padding: 5px 10px; font-size: 0.9em; margin-top: 5px"
      >
        + Add Custom Word
      </button>
    </div>

    <p style="margin-top: 5px; font-size: 0.9em">
      Selected Base: <strong id="current-base">2 (Binary)</strong>
    </p>
  </div>

  <hr style="border-top: 1px solid #ddd" />

  <p><strong for="miss-li-input">2. Input:</strong></p>
  <textarea
    id="miss-li-input"
    rows="5"
    placeholder="Enter text to encode (e.g., 'Hello') or word sequence to decode."
  ></textarea>

  <div style="margin-top: 10px; margin-bottom: 10px">
    <button onclick="missLiEncode()">Encode</button>
    <button onclick="missLiDecode()">Decode</button>
  </div>

  <p><strong for="miss-li-output">3. Output:</strong></p>

  <textarea
    id="miss-li-output"
    rows="5"
    readonly
    placeholder="Result will appear here"
  ></textarea>
</div>

<script src="{{ get_url(path='js/miss_li_codec.js') }}"></script>

<style>
  #miss-li-codec-container {
    padding: 15px;
    border: 1px solid #ccc;
    border-radius: 5px;
    background-color: #f9f9f9;
  }
  #miss-li-codec-container textarea {
    width: 100%;
    box-sizing: border-box;
    margin-top: 5px;
    margin-bottom: 10px;
  }
  #miss-li-codec-container button {
    padding: 8px 15px;
    margin-right: 10px;
    cursor: pointer;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
  }
  #dictionary-selection label {
    margin-right: 15px;
  }
  .custom-word-item {
    display: flex;
    align-items: center;
    margin-bottom: 5px;
  }
  .custom-word-item input[type="text"] {
    margin-left: 5px;
    margin-right: 5px;
    padding: 3px;
    border: 1px solid #ccc;
    width: 150px;
  }
  .custom-word-item button {
    background-color: #f44336;
    color: white;
    border: none;
    padding: 3px 6px;
    font-size: 0.8em;
    cursor: pointer;
    margin-left: 5px;
  }
</style>
<script>
  // Re-run setup on checkbox change to update the base display
  document
    .querySelectorAll('#dictionary-selection input[type="checkbox"]')
    .forEach((checkbox) => {
      checkbox.addEventListener("change", updateBaseDisplay);
    });

  updateBaseDisplay();
</script>
